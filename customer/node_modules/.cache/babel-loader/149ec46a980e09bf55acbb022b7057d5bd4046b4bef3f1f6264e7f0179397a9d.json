{"ast":null,"code":"import React,{useEffect,useState}from'react';import Loading from'../../components/Loading';import axios from'axios';import{StoreBaseUrl}from'../../constants';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const[CredentialState,setCredialState]=useState({'state':'username'});const[loginCredentials,setLoginCredentials]=useState({'username':\"\",'password':\"\"});const LoginAttempt=async()=>{axios.post(StoreBaseUrl+'user/login',{\"email\":loginCredentials.username,\"password\":loginCredentials.password}).then(res=>{if('token'in res.data){console.log('login succesful');// setCookie('token',res.data.token)\nlocalStorage.setItem('token',res.data.token);navigate('/Dashboard');}}).catch(err=>{console.log(err);});};const saveUsername=e=>{setLoginCredentials({...loginCredentials,username:e.target.value});// console.log(loginCredentials)\n};const savePassword=e=>{setLoginCredentials({...loginCredentials,password:e.target.value});// console.log(loginCredentials)\n};const showPassword=e=>{setCredialState({...CredentialState,state:'password'});console.log('showing password');};const showUsername=e=>{setCredialState({...CredentialState,state:'username'});console.log('showing password');};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"sm:border sm:border-gray-700 sm:p-20 rounded-md  w-screen  sm:w-3/4 flex-wrap sm:flex\",children:[/*#__PURE__*/_jsx(\"section\",{id:\"logo\",className:\" flex justify-center w-screen sm:w-1/2\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/menuit-logo.jpg\",className:\"h-36\"})}),/*#__PURE__*/_jsx(\"section\",{id:\"inputs\",className:\"w-screen flex justify-center mt-5 sm:w-1/2  \",children:CredentialState.state==='username'?/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4  sm:w-full \",id:\"usernameDiv\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Username / Email ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Enter your email id that you have used at the time of your registration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"border usernameInput mt-5 border-gray-600 p-2 w-full rounded-md\",id:\"username\",onChange:e=>saveUsername(e),value:loginCredentials.username}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-2 flex justify-end cursor-pointer\",children:/*#__PURE__*/_jsx(\"div\",{onClick:showPassword,className:\"p-2 mt-2 bg-green-700 text-white rounded-md\",children:\"Next\"})})]}):CredentialState.state===\"password\"?/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4  sm:w-full \",id:\"passwordDiv\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Password\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Enter your email id that you have used at the time of your registration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"border usernameInput mt-5 border-gray-600 p-2 w-full rounded-md\",id:\"password\",value:loginCredentials.password,onChange:e=>{savePassword(e);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-2 flex justify-end cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:showUsername,className:\"p-2 mt-2 bg-green-700 text-white rounded-md m-3\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>{LoginAttempt();},className:\"p-2 mt-2 bg-green-700 text-white rounded-md m-3\",children:\"Login\"})]})]}):CredentialState.state===\"verify\"?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(\"p\",{children:\"wait...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end w-full m-2\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"New User? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"text-blue-700\",children:\"Register\"})]})})]})});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","Loading","axios","StoreBaseUrl","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","CredentialState","setCredialState","loginCredentials","setLoginCredentials","LoginAttempt","post","username","password","then","res","data","console","log","localStorage","setItem","token","catch","err","saveUsername","e","target","value","savePassword","showPassword","state","showUsername","className","children","id","src","type","onChange","onClick","href"],"sources":["D:/menutit_official/client/src/pages/Login/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Loading from '../../components/Loading';\r\nimport axios from 'axios';\r\nimport { StoreBaseUrl } from '../../constants';\r\nimport { useNavigate } from 'react-router-dom';\r\nfunction Login() {\r\n  const navigate = useNavigate()\r\n  const [CredentialState,setCredialState] = useState({'state':'username'})\r\n\r\n  const [loginCredentials, setLoginCredentials] = useState({\r\n    'username':\"\",\r\n    'password':\"\"\r\n  })\r\n\r\n\r\n\r\n\r\n  const LoginAttempt = async()=>{\r\n\r\n   axios.post(StoreBaseUrl + 'user/login',{\r\n    \"email\":loginCredentials.username,\r\n    \"password\":loginCredentials.password\r\n   }).then((res)=>{\r\n    if('token' in res.data){\r\n      console.log('login succesful')\r\n      // setCookie('token',res.data.token)\r\n      localStorage.setItem('token',res.data.token)\r\n      navigate('/Dashboard')\r\n    }\r\n   }).catch((err)=>{\r\n    console.log(err)\r\n   })\r\n\r\n  }\r\n  \r\n\r\n  const saveUsername=(e)=>{\r\n    setLoginCredentials({...loginCredentials, username:e.target.value})\r\n    // console.log(loginCredentials)\r\n  }\r\n  const savePassword=(e)=>{\r\n    setLoginCredentials({...loginCredentials, password:e.target.value})\r\n    // console.log(loginCredentials)\r\n  }\r\n\r\n  const showPassword=(e)=>{\r\n    setCredialState({...CredentialState, state:'password'})\r\n    console.log('showing password')\r\n\r\n  }\r\n  const showUsername=(e)=>{\r\n    setCredialState({...CredentialState, state:'username'})\r\n    console.log('showing password')\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='flex justify-center items-center h-screen'>\r\n      <section className='sm:border sm:border-gray-700 sm:p-20 rounded-md  w-screen  sm:w-3/4 flex-wrap sm:flex'>\r\n        <section id='logo' className=' flex justify-center w-screen sm:w-1/2'>\r\n          <img src='/menuit-logo.jpg' className='h-36'/>\r\n        </section>\r\n        <section id='inputs' className='w-screen flex justify-center mt-5 sm:w-1/2  '>\r\n          \r\n          {CredentialState.state === 'username'?\r\n        \r\n          <div className='w-3/4  sm:w-full ' id='usernameDiv'>\r\n              <p className='font-semibold'>Username / Email ID</p>\r\n              <p className='text-sm text-gray-600'>Enter your email id that you have used at the time of your registration</p>\r\n              <input type='text' className='border usernameInput mt-5 border-gray-600 p-2 w-full rounded-md' id='username'  onChange={(e)=>saveUsername(e)} value={loginCredentials.username}/>\r\n              <div className='mx-2 flex justify-end cursor-pointer'  >\r\n                <div onClick={showPassword} className='p-2 mt-2 bg-green-700 text-white rounded-md'>Next</div>\r\n              </div>\r\n            </div>\r\n  \r\n          :CredentialState.state === \"password\"?\r\n            <div className='w-3/4  sm:w-full '  id='passwordDiv'>\r\n              <p className='font-semibold'>Password</p>\r\n              <p className='text-sm text-gray-600'>Enter your email id that you have used at the time of your registration</p>\r\n              <input type='password' className='border usernameInput mt-5 border-gray-600 p-2 w-full rounded-md' id='password' value={loginCredentials.password}  onChange={(e)=>{ savePassword(e)}}/>\r\n              <div className='mx-2 flex justify-end cursor-pointer'  >\r\n                <div onClick={showUsername} className='p-2 mt-2 bg-green-700 text-white rounded-md m-3'>Previous</div>\r\n                <div onClick={()=>{LoginAttempt()}} className='p-2 mt-2 bg-green-700 text-white rounded-md m-3'>Login</div>\r\n                {/* <div onClick={(e)=>{  setLoginCredentials({...loginCredentials ,password:document.getElementById('password').value});;setCredialState('verify')}} className='p-2 mt-2 bg-green-700 text-white rounded-md'>Login</div> */}\r\n              </div>          \r\n              </div> \r\n            :CredentialState.state === \"verify\"?\r\n            <Loading/>\r\n            :\r\n            <p>wait...</p>\r\n\r\n            }\r\n\r\n            \r\n          \r\n        </section>\r\n        <div className='flex justify-end w-full m-2'>\r\n        <p>New User? <a href='/register' className='text-blue-700'>Register</a></p>\r\n\r\n        </div>\r\n\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}