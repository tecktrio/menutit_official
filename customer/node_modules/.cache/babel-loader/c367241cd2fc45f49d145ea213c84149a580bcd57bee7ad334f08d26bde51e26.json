{"ast":null,"code":"import React,{useEffect,useState}from'react';import Aqua from'../../Themes/Aqua/Aqua';import{Darker}from'../../Themes/Darker/Darker';import axios from'axios';import{StoreBaseUrl}from'../../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StoreView(){const[theme,setTheme]=useState('aqua');const[storeData,setStoreData]=useState({'store_name':'','contact':'','license':'','products':[]});const[params,setParams]=useState({'shop_owner_email':\"\",'division_name':\"\",'store_name':\"\"});const getProducts=async(shop_owner_email,division_name,store_name)=>{await axios.get(StoreBaseUrl+\"store/product?shop_owner_email=\"+shop_owner_email+'&store_name='+store_name+'&division_name='+division_name).then(res=>{console.log(res.data);setStoreData({...storeData,products:res.data});}).catch(e=>{});};const search=async keyword=>{if(keyword!=null){await axios.get(StoreBaseUrl+\"store/product?shop_owner_email=\".concat(params.shop_owner_email,\"&store_name=\").concat(params.store_name,\"&division_name=\").concat(params.division_name,\"&search=\").concat(keyword)).then(res=>{setStoreData({...storeData,products:res.data});}).catch(e=>{});}};const getStoreData=async(shop_owner_email,division_name,store_name)=>{await axios.get(StoreBaseUrl+\"store/manage?shop_owner_email\\n  =\"+shop_owner_email+'&store_name='+store_name).then(res=>{setStoreData({...storeData,store_name:res.data.store_name,contact:res.data.contact});console.log('store',res.data);});};const loadStore=()=>{const parameters=new URLSearchParams(window.location.search);const shop_owner_email=parameters.get('shop_owner_email');const division_name=parameters.get('division_name');const store_name=parameters.get('store_name');console.log(shop_owner_email,division_name,store_name);getStoreData(shop_owner_email,division_name,store_name);getProducts(shop_owner_email,division_name,store_name);setParams({\"shop_owner_email\":shop_owner_email,\"division_name\":division_name,\"store_name\":store_name});};useEffect(()=>{loadStore();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[theme==='aqua'?/*#__PURE__*/_jsx(Aqua,{data:storeData,search:search}):\"\",theme==='darker'?/*#__PURE__*/_jsx(Darker,{data:storeData}):\"\"]});}export default StoreView;","map":{"version":3,"names":["React","useEffect","useState","Aqua","Darker","axios","StoreBaseUrl","jsx","_jsx","jsxs","_jsxs","StoreView","theme","setTheme","storeData","setStoreData","params","setParams","getProducts","shop_owner_email","division_name","store_name","get","then","res","console","log","data","products","catch","e","search","keyword","concat","getStoreData","contact","loadStore","parameters","URLSearchParams","window","location","children"],"sources":["D:/menutit_official/client/src/pages/StoreView/StoreView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Aqua from '../../Themes/Aqua/Aqua'\r\nimport { Darker } from '../../Themes/Darker/Darker'\r\nimport axios from 'axios'\r\nimport {StoreBaseUrl} from '../../constants'\r\n\r\nfunction StoreView() {\r\n const [theme, setTheme] = useState('aqua')\r\n const [storeData, setStoreData] = useState({\r\n   'store_name':'',\r\n   'contact':'',\r\n   'license':'',\r\n   'products':[]\r\n})\r\n\r\nconst [params, setParams] = useState({\r\n   'shop_owner_email':\"\",\r\n   'division_name':\"\",\r\n   'store_name':\"\"\r\n})\r\n\r\n\r\n const getProducts =async(shop_owner_email, division_name, store_name)=>{\r\n      await axios.get(StoreBaseUrl + `store/product?shop_owner_email=`+ shop_owner_email + '&store_name='+ store_name + '&division_name=' + division_name).then((res)=>{\r\n      console.log(res.data)\r\n      setStoreData({...storeData, products:res.data})\r\n   }).catch((e)=>{\r\n   })\r\n  \r\n}\r\n\r\nconst search =async(keyword,)=>{\r\n   if (keyword != null){\r\n      await axios.get(StoreBaseUrl + `store/product?shop_owner_email=${params.shop_owner_email }&store_name=${params.store_name}&division_name=${params.division_name}&search=${keyword}`).then((res)=>{\r\n      setStoreData({...storeData, products:res.data})\r\n      }).catch((e)=>{\r\n      })\r\n   }\r\n}\r\n\r\nconst getStoreData = async(shop_owner_email, division_name, store_name)=>{\r\n  await axios.get(StoreBaseUrl + `store/manage?shop_owner_email\r\n  =` +  shop_owner_email + '&store_name='+ store_name ).then((res)=>{\r\n   setStoreData({...storeData, store_name:res.data.store_name, contact: res.data.contact})\r\n  console.log('store',res.data)\r\n\r\n  }) \r\n}\r\n\r\nconst loadStore = ()=>{\r\n   const parameters = new URLSearchParams(window.location.search)\r\n   const shop_owner_email = parameters.get('shop_owner_email')\r\n   const division_name = parameters.get('division_name')\r\n   const store_name= parameters.get('store_name')\r\n   \r\n   console.log(shop_owner_email, division_name, store_name)\r\n   getStoreData(shop_owner_email, division_name, store_name)\r\n   getProducts(shop_owner_email, division_name, store_name)\r\n   setParams({\r\n      \"shop_owner_email\":shop_owner_email,\r\n      \"division_name\":division_name,\r\n      \"store_name\" : store_name\r\n   })\r\n\r\n}\r\n\r\n useEffect(()=>{\r\n   loadStore()\r\n },[])\r\n\r\n  return (\r\n    <div>\r\n        {theme === 'aqua' ?<Aqua data = {storeData} search = {search}/>:\"\"}\r\n        {theme === 'darker'?<Darker data={storeData}/>:\"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StoreView\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}